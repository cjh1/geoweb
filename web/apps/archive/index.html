<!DOCTYPE html>
<html lang="en">
  <head>
  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>

  <script type="text/javascript" src="/common/js/bootstrap.js"></script>
  <script type="text/javascript" src="/common/js/gl-matrix.js"></script>
  <script type="text/javascript" src="/common/js/select2.min.js"></script>
  <script type="text/javascript" src="/lib/geoweb.min.js"></script>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script type="text/javascript" src="archive.js"></script>
  <script>
    function init() {
      // Animate control panel
      var collapsed = false;
      var defaultHeight = 0;

      $("#drawer").hover(
        function () {
          $(this).addClass("hover");
        },
        function () {
          $(this).removeClass("hover");
        }
      );

     $('#drawer').click(function() {
       if (collapsed === false) {
         defaultHeight =  $("#control-panel").height();
        $('#control-panel').animate({
          height: 25
          }, 400, function() {
          $("#collapse-icon").toggleClass('icon-chevron-down icon-chevron-up');
          collapsed = true;
          });
        }
       else {
         $('#control-panel').animate({
           height: defaultHeight
           }, 400, function() {
           $("#collapse-icon").toggleClass('icon-chevron-down icon-chevron-up');
           collapsed = false;
           });
         }
      });
    }
  </script>
  <link href=http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css rel=stylesheet type=text/css>
  <link href="/common/css/bootstrap.css" rel=stylesheet type=text/css>
  <link href="/common/css/select2.css" rel=stylesheet type=text/css></link>
  <link href="/common/css/geoweb.css" rel=stylesheet type=text/css>
  <style>
    p {
     color:#FFA500;
     font-weight:bold;
    }

    .pointer {
      cursor: pointer;
    }

    .centered {
      margin-left: auto;
      margin-right: auto;
      text-align: center;
    }

    .hover {
      background-color: gray;
    }

    a {
      font-family: inherit;
      font-weight: bold;
      line-height: 20px;
      color: inherit;
      text-rendering: optimizelegibility;
      font-size: 17.5px;
    }

     table {
      width: 100%;
     }

     .td-btn-layer {
       text-align: right;
     }

     .accordion-group {
       border: none;
     }

     #documents-container {
      height: 350px;
      overflow: auto;
     }

     #layers-container {
      height: 300px;
      overflow: auto;
     }

     #controls-container {
      overflow: auto;
     }

    #table {
      table-layout: fixed;
      word-wrap: break-word;
    }

    .container-fluid {
      padding-right: 0px;
      padding-left: 0px;
    }

    body {
      overflow: auto;
    }

    .query-in-progress {
        background-image: url('ui-anim_basic_16x16.gif');
        background-position: 512px 6px;
        background-repeat: no-repeat;
    }

   .whatadrag {
      width: 0px;
      height: 0px;

    }
  </style>
  </head>
  <body onload="archive.main()">
  <div class="navbar navbar-fixed-top" style="margin-bottom:0px">
    <div class="navbar-inner">
      <a class="brand" href="/">ClimatePipes</a>
      <ul class="nav">
      <li class="active"><a href="#">ClimatePipes Archive</a></li>
    </ul>
    </div>
  </div>
  <div style="width:100%; height:100%;">
    <canvas id="glcanvas" style="width:100%; height:100%;" ></canvas>
  </div>

  <div id=control-panel style="position:fixed; bottom:0px; width:100%; height: 400px; background:rgba(255,255,255,0.5);">
    <div class="container-fluid">
        <div class="row-fluid">
            <div id="drawer" class="centered pointer drawer">
                <i id="collapse-icon" class="icon-chevron-down"></i>
            </div>
        </div>
        <div class="row-fluid">
          <div class="span5">
            <div id="documents-container" class="row-fluid">
              <div class="accordion" id="documents">
                <div class="accordion-group">
                  <div class="accordion-heading">
                    <a class="accordion-toggle" data-toggle="collapse"
                      data-parent="#documents"
                      href="#collapse-documents">Documents</a>
                  </div>
                  <div class="accordion-body collapse in"
                    id="collapse-documents">
                    <div class="accordion-inner">
                      <div>
                      <div class="input-prepend">
                      <span class="add-on"><i class="icon-search"></i></span>
                      </div>
                      <input class="input-large" id="query-input" type="text" placeholder="Query" style="width:90%; z-index:10000000000"/>
                      <div>
                        <div id="source" class="btn-group" data-toggle="buttons-checkbox" style="display: inline">
                          <button type="button" class="btn btn-medium btn-success" id="local">Local</button>
                          <button type="button" class="btn btn-medium btn-info"id="esgf">ESGF</button>
                          <button type="button" class="btn btn-medium btn-warning"id="nasa">NASA</button>

                        </div>
                         <div style="display: inline; padding-top: 10px">
                           <div class="input-prepend">
                             <span class="add-on"><i class="icon-calendar"></i></span>
                           </div>
                          <input class="input-small" type="text" id="from"/>
                          <div class="input-prepend">
                            <span class="add-on"><i class="icon-calendar"></i></span>
                          </div>
                          <input class="input-small" type="text" id="to"/>
                        </div>
                      </div>

                      <table id="document-table" class="table-hover">
                        <thead>
                        <tr><th>Name</th><th>Source</th><th>Tags</th><th>Parameters</th><tr>
                        </thead>
                        <tbody id="document-table-body">
                        </tbody>
                      </table>
                    </div>
                  </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="span3">
            <div id="layers-container" class="row-fluid">
              <div class="accordion" id="layers">
              </div>
            </div>
          </div>
          <div class="span2">
            <div id="controls-container" class="row-fluid">
              <div class="accordion" id="layer-controls">
              </div>
            </div>
          </div>
          <div class="span2">
            <div id="controls-container" class="row-fluid">
              <div class="accordion" id="view-controls">
              </div>
            </div>
          </div>
        </div>
    </div>
</div>
</body>
 </html>
